---
layout: post
title: ! 'less everything  Use attr_protected or we will hack you '
tags: 
type: link
---
<h3><a href="http://b.lesseverything.com/2008/3/11/use-attr_protected-or-we-will-hack-you">less everything  Use attr_protected or we will hack you </a></h3>
<p>Great point. Here&#8217;s a spec to help all us Rails developers against that sort of attack. Now you really have no excuses.

<pre><code><small>describing User do
  it "should not set admin flag via mass assignment" do
    user = create_user(:is_admin =&gt; true)
    user.is_admin?.should_not == true
  end
  def create_user(options={})
    User.create({
      # your default values here
    }.merge(options))
  end
end</small></code></pre></p>
